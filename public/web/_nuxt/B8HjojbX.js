import{d as h,au as U,aY as z,s as C,aK as L,aq as j,i as S,aR as V,c as D,o as l,m as e,l as n,z as F,j as _,p as o,bs as I,_ as P,t as u,k as i,A as M,q as R,a$ as T}from"#entry";import q from"./-aacq5Xj.js";import{_ as A}from"./Cgx-pZ0i.js";import{_ as E}from"./DNZiHWQV.js";import{u as H}from"./h7JmE-o-.js";import{u as K}from"./BvugyUor.js";import{useI18n as O}from"./8nwS_hHr.js";import"./DDkKkiq3.js";import"./zPUvkbEL.js";import"./BNqXk1Oe.js";import"./b-_TUx9i.js";import"./B22A-h4k.js";import"./Cfcu-t3n.js";import"./DK1-6_6O.js";import"./CstU5cVH.js";import"./BT1VXOqk.js";import"./CP4Zo7YT.js";import"./XpsTG8vq.js";import"./CaCT6lpU.js";const Y={class:"design-layout dark:bg-muted flex h-screen w-full flex-col bg-[#f7f7fc] pb-2"},G={class:"relative flex h-14 items-center px-5"},J={class:"flex items-center gap-x-2"},Q={class:"flex items-center gap-x-2 leading-[30px]"},W={class:"flex size-8 items-center justify-center rounded-lg"},X={class:"text-base"},Z={class:"hover:text-primary hover:bg-primary-light-9 flex cursor-pointer items-center rounded-lg p-2"},ee={class:"space-y-4 pb-8"},oe={class:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2"},se={class:"dark:bg-accent rounded-lg bg-[#ebecf5] px-1.5 py-1"},te={class:"bg-background flex items-center rounded-lg px-2 py-1"},ne={class:"mx-2 text-sm leading-5 font-medium"},ae={class:"ml-auto flex items-center gap-2"},ce={class:"relative flex h-full w-full gap-3 px-2"},ie=h({__name:"design",setup(x){const{t:s}=O(),r=U(),a=H(),f=z(),m=C(!1),{lockFn:v,isLock:b}=L(async()=>{await a.savePages(),j().success(s("console-widgets.designer.saveSuccess")),setTimeout(()=>r.back(),1e3)});function k(){const t=()=>{a.resetState(),r.back()};if(!a.isDirty){t();return}K({title:s("console-common.tips"),description:s("console-common.messages.confirmLeave"),confirmText:s("console-common.confirm"),cancelText:s("console-common.cancel")}).then(t)}return S(()=>{const t=c=>{if(a.isDirty)return c.preventDefault(),s("console-common.messages.confirmLeave")};window.addEventListener("beforeunload",t),V(()=>{window.removeEventListener("beforeunload",t)})}),(t,c)=>{const g=F,w=I,d=P,y=q,N=A,$=E,B=T;return l(),D("div",Y,[e("div",G,[e("div",J,[n(g,{color:"neutral",icon:"i-lucide-chevron-left",variant:"ghost",class:"hover:bg-[#ebecf5]",onClick:k}),e("div",Q,[e("h1",W,[o(f).siteConfig?.webinfo.logo?(l(),_(w,{key:0,src:o(f).siteConfig?.webinfo.logo,alt:"Logo",class:"size-8"},null,8,["src"])):(l(),_(d,{key:1,name:"system-logo",class:"text-background size-8"}))]),e("div",X,u(o(a).projectName),1),n($,{open:o(m),"onUpdate:open":c[1]||(c[1]=p=>M(m)?m.value=p:null),title:o(s)("console-widgets.designer.editProjectName"),ui:{content:"max-w-md"},showFooter:!0},{trigger:i(()=>[e("div",Z,[n(d,{name:"i-lucide-edit",class:"size-4"})])]),default:i(()=>[e("div",ee,[n(N,{label:o(s)("console-widgets.designer.pageName"),name:"name",required:""},{default:i(()=>[n(y,{modelValue:o(a).projectName,"onUpdate:modelValue":c[0]||(c[0]=p=>o(a).projectName=p),placeholder:o(s)("console-widgets.designer.enterPageName"),maxlength:"32","show-count":"",size:"lg",ui:{root:"w-full"}},null,8,["modelValue","placeholder"])]),_:1},8,["label"])])]),_:1},8,["open","title"])])]),e("div",oe,[e("div",se,[e("div",te,[n(d,{name:"i-lucide-palette",class:"size-4"}),e("span",ne,u(t.$t("console-common.userInterface")),1)])])]),e("div",ae,[n(g,{color:"primary",loading:o(b),onClick:o(v)},{default:i(()=>[R(u(t.$t("console-common.save")),1)]),_:1},8,["loading","onClick"])])]),e("main",ce,[n(B)])])}}}),Ue=h({__name:"design",setup(x){return(s,r)=>(l(),_(ie))}});export{Ue as default};
