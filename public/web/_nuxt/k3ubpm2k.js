import{_ as R}from"./COzfqa7N.js";import{d as F,aq as N,s as _,b as j,aK as q,j as g,o as v,k as m,l as i,m as l,p as a,A as b,n as k,_ as L,t as d,z as A,q as $,bA as T}from"#entry";import{_ as D}from"./B0y4mbyn.js";import M from"./-aacq5Xj.js";import{_ as P}from"./Cgx-pZ0i.js";import{_ as K}from"./DNZiHWQV.js";import{l as w}from"./CWtbjjIF.js";import"./8-c-A7PB.js";import"./B22A-h4k.js";import"./Cpt2kRVT.js";import"./pUN2d83w.js";import"./9bDOsXij.js";import"./B19A1O9i.js";import"./BaNg8fjw.js";import"./DlAUqK2U.js";import"./DDkKkiq3.js";import"./zPUvkbEL.js";import"./BNqXk1Oe.js";import"./b-_TUx9i.js";import"./Cfcu-t3n.js";import"./DK1-6_6O.js";import"./CstU5cVH.js";import"./BT1VXOqk.js";import"./CP4Zo7YT.js";import"./XpsTG8vq.js";const S={class:"py-10"},E={class:"hover:bg-accent border-muted group flex h-full w-full items-center gap-2 rounded-md border"},G={class:"ml-4 flex size-8 flex-none items-center justify-center gap-2"},H={class:"flex w-full flex-col justify-center truncate pr-4"},J={class:"truncate text-sm font-medium"},O={class:"text-muted-foreground text-xs"},Q={class:"absolute right-4 hidden group-hover:block"},W={class:"flex justify-end gap-2"},Ie=F({__name:"agent-dsl-import",emits:["close"],setup(X,{emit:x}){const u=x,c=N(),s=_("file"),n=_(""),r=_(""),{t:p}=j(),{lockFn:y,isLock:I}=q(async()=>{if(s.value==="file"){if(!n.value){c.error(p("ai-agent.backend.dslImport.errors.fileRequired"));return}await w({content:n.value,format:"yaml"})}else if(s.value==="url"){if(!r.value){c.error(p("ai-agent.backend.dslImport.errors.urlRequired"));return}const t=await T({url:r.value,description:`Remote file: ${r.value}`});await w({content:t.url,format:"yaml"})}c.success(p("ai-agent.backend.dslImport.success")),u("close",!0)});return(t,e)=>{const V=R,U=L,f=A,h=D,C=M,z=P,B=K;return v(),g(B,{title:t.$t("ai-agent.backend.dslImport.title"),description:t.$t("ai-agent.backend.dslImport.description"),ui:{content:"max-w-lg"},onClose:e[5]||(e[5]=o=>u("close",!1))},{default:m(()=>[i(V,{modelValue:a(s),"onUpdate:modelValue":e[0]||(e[0]=o=>b(s)?s.value=o:null),size:"md",variant:"link",content:!1,items:[{label:t.$t("ai-agent.backend.dslImport.tabs.file"),value:"file"},{label:t.$t("ai-agent.backend.dslImport.tabs.url"),value:"url"}],ui:{trigger:"px-0! mr-5!"},class:"w-auto"},null,8,["modelValue","items"]),l("div",S,[a(s)==="file"?(v(),g(h,{key:0,modelValue:a(n),"onUpdate:modelValue":e[2]||(e[2]=o=>b(n)?n.value=o:null),accept:".yaml,.yml",multiple:!1,maxCount:1,single:!0,icon:"i-lucide-cloud-upload",showPreviewButton:!1,addButtonClassName:"flex-row",class:"bg-muted h-14 w-full border-none! shadow-none! ring-0!"},{"file-item":m(({item:o})=>[l("div",E,[l("div",G,[i(U,{name:"bd:yml",class:"text-muted-foreground size-6 flex-none"})]),l("div",H,[l("p",J,d(o.name),1),l("p",O,d(o.extension?.toUpperCase()),1)]),l("div",Q,[i(f,{color:"error",variant:"soft",size:"sm",icon:"i-lucide-trash",onClick:e[1]||(e[1]=Y=>n.value="")})])])]),_:1},8,["modelValue"])):k("",!0),a(s)==="url"?(v(),g(z,{key:1,label:t.$t("ai-agent.backend.dslImport.form.urlLabel"),name:"url"},{default:m(()=>[i(C,{modelValue:a(r),"onUpdate:modelValue":e[3]||(e[3]=o=>b(r)?r.value=o:null),ui:{root:"w-full"},variant:"soft",size:"lg",placeholder:t.$t("ai-agent.backend.dslImport.form.urlPlaceholder")},null,8,["modelValue","placeholder"])]),_:1},8,["label"])):k("",!0)]),l("div",W,[i(f,{color:"neutral",variant:"soft",size:"lg",onClick:e[4]||(e[4]=o=>u("close",!1))},{default:m(()=>[$(d(t.$t("console-common.cancel")),1)]),_:1}),i(f,{color:"primary",size:"lg",loading:a(I),onClick:a(y)},{default:m(()=>[$(d(t.$t("console-common.create")),1)]),_:1},8,["loading","onClick"])])]),_:1},8,["title","description"])}}});export{Ie as default};
