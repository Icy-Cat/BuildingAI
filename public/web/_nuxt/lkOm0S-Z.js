const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./mxK_KPNX.js","./DChYRXkg.js","./DFBCXxNw.js","./BwjX1SxC.js","./Bub1HYiY.js","./B22A-h4k.js","./Bpk8zbrs.js","./XpsTG8vq.js","./-p_U-LXi.js","./DDkKkiq3.js","./DN9ov8OT.js","./iHyFjswr.js","./CGWnnGY2.js","./BvrbnHlJ.js","./BaddN8Qc.js","./8-c-A7PB.js","./kRIii9yh.js","./Cfcu-t3n.js","./C6Y-ieo6.js","./b-_TUx9i.js","./DaNf1Wdt.js","./CKXZhss7.js","./Cpt2kRVT.js","./pUN2d83w.js","./DodGX9aM.js","./BWWuJQeZ.js","./9bDOsXij.js","./BNVdDQJV.js","./Dp_0VxUw.js","./ChW2FNId.js","./-aacq5Xj.js","./Cgx-pZ0i.js","./CjnkMdLn.js","./DjV6S4bm.js","./BstbYvQo.js","./B0y4mbyn.js","./BaNg8fjw.js","./DlAUqK2U.js","./Bc7ldEoJ.js","./xli8Y-dU.js","./DNZiHWQV.js","./zPUvkbEL.js","./BNqXk1Oe.js","./DK1-6_6O.js","./CstU5cVH.js","./BT1VXOqk.js","./CP4Zo7YT.js","./BUyfW8JT.js","./DaWZu8wl.js","./CliJzsSI.js","./B19A1O9i.js"])))=>i.map(i=>d[i]);
import{d as Y,aq as Z,b as ee,Q as te,s as $,aM as oe,g as E,i as se,c as f,o as u,m as r,j as I,n as ae,l as n,p as e,t as d,k as p,z as ne,q as y,F as ie,B as ce,R as S,_ as le,U as M}from"#entry";import re from"./-aacq5Xj.js";import{_ as de}from"./DjV6S4bm.js";import{_ as me}from"./DodGX9aM.js";import{_ as pe}from"./Bpk8zbrs.js";import{_ as ue}from"./DJ8q3BOv.js";import{_ as _e}from"./BvrbnHlJ.js";import{_ as fe}from"./Qjq6OWkd.js";import{_ as he}from"./BNeK5zSK.js";import{f as ge,g as ve,c as be,h as ke,i as ye}from"./BNVdDQJV.js";import{u as Se}from"./FihYtau-.js";import{u as Me}from"./BvugyUor.js";import"./8-c-A7PB.js";import"./DN9ov8OT.js";import"./BwjX1SxC.js";import"./b-_TUx9i.js";import"./DaNf1Wdt.js";import"./CKXZhss7.js";import"./Cfcu-t3n.js";import"./BstbYvQo.js";import"./B22A-h4k.js";import"./BWWuJQeZ.js";import"./9bDOsXij.js";import"./pUN2d83w.js";import"./Cpt2kRVT.js";import"./iHyFjswr.js";import"./DDkKkiq3.js";import"./XpsTG8vq.js";import"./BaddN8Qc.js";import"./kRIii9yh.js";import"./C6Y-ieo6.js";import"./Bub1HYiY.js";import"./BT1VXOqk.js";import"./Dn8X9Gvz.js";import"./DlAUqK2U.js";const xe={class:"provider-list-container pb-5"},we={class:"bg-background sticky top-0 z-10 flex flex-wrap gap-4 pb-2"},Ce={class:"flex items-center gap-2 md:ml-auto"},De={class:"flex items-center gap-2"},Ue={class:"text-accent-foreground text-sm dark:text-gray-400"},Ve={class:"mt-2 grid grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4"},ze={key:1,class:"flex h-[calc(100vh-13rem)] items-center justify-center"},Ae={class:"flex items-center gap-3"},Te={class:"text-accent-foreground"},$e={key:2,class:"flex h-[calc(100vh-13rem)] flex-col items-center justify-center"},Ee={class:"text-secondary-foreground mb-2 text-lg font-medium"},Ie={class:"text-accent-foreground"},Pe={key:3,class:"bg-background sticky bottom-0 z-10 flex items-center justify-between gap-3 py-4"},Be={class:"text-muted text-sm"},Re={class:"flex items-center gap-1.5"},yt=Y({__name:"list",setup(je){const P=S(()=>M(()=>import("./mxK_KPNX.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28]),import.meta.url)),B=S(()=>M(()=>import("./ChW2FNId.js"),__vite__mapDeps([29,1,30,31,9,32,33,15,10,3,19,20,21,17,34,5,35,36,37,8,11,38,39,14,16,18,22,23,4,40,41,42,43,44,45,46,7,27,47,48]),import.meta.url)),R=S(()=>M(()=>import("./CliJzsSI.js"),__vite__mapDeps([49,1,2,3,4,5,6,7,50,40,41,42,19,17,43,44,45,46,27]),import.meta.url)),h=Z(),{t:s}=ee(),x=te(),i=$(new Set),_=oe({name:"",isDisabled:null}),w=$([]),{paging:a,getLists:m}=Se({fetchFun:ge,params:_}),j=(t,o)=>{if(typeof o=="boolean"){const c=t.id;o?i.value.add(c):i.value.delete(c)}},q=t=>{t===!0?a.items.forEach(c=>{c.id&&i.value.add(c.id)}):i.value.clear()},C=async t=>{try{await Me({title:s("ai-mcp.backend.deleteTitle"),description:s("ai-mcp.backend.deleteMessage"),color:"error"}),Array.isArray(t)?(await ke(t),h.success(s("ai-mcp.backend.deleteSuccess"))):(await ye(t),h.success(s("ai-mcp.backend.deleteSuccess"))),i.value.clear(),m()}catch(o){console.error("Delete failed:",o)}},L=t=>{t.id&&C(t.id)},O=()=>{const t=Array.from(i.value);t.length!==0&&C(t)},g=async(t="",o=!1)=>{await x.create(B).open({id:t,isJsonImport:o,"onChange-update":b=>{w.value=b||[]}}).result&&m()},F=async t=>{await x.create(R).open({id:t}).result&&m()},N=t=>{F(t)},D=()=>{g()},U=()=>{g("",!0)},Q=async t=>{try{await ve(t.id),m(),h.success(s("ai-mcp.backend.quickMenuSuccess"))}catch(o){console.error("Set quick menu failed:",o)}},G=t=>{g(t.id)},J=async(t,o)=>{try{await be(t,{isDisabled:o}),h.success(o?"MCP已禁用":"MCP已启用"),m()}catch(c){console.error("Toggle provider active failed:",c)}},K=E(()=>a.items.length>0&&a.items.every(t=>t.id&&i.value.has(t.id))),H=E(()=>{const t=a.items.filter(o=>o.id&&i.value.has(o.id)).length;return t>0&&t<a.items.length});return se(()=>m()),(t,o)=>{const c=re,v=de,V=me,b=pe,k=ne,z=ue,A=_e,W=fe,T=le,X=he;return u(),f("div",xe,[r("div",we,[n(c,{modelValue:e(_).name,"onUpdate:modelValue":o[0]||(o[0]=l=>e(_).name=l),class:"w-70",placeholder:e(s)("ai-mcp.backend.search.placeholder"),onChange:e(m)},null,8,["modelValue","placeholder","onChange"]),n(v,{modelValue:e(_).isDisabled,"onUpdate:modelValue":o[1]||(o[1]=l=>e(_).isDisabled=l),items:[{label:e(s)("ai-mcp.backend.search.all"),value:null},{label:e(s)("console-common.enabled"),value:!1},{label:e(s)("console-common.disabled"),value:!0}],class:"w-fit","label-key":"label","value-key":"value",placeholder:e(s)("ai-mcp.backend.search.status"),onChange:e(m)},null,8,["modelValue","items","placeholder","onChange"]),r("div",Ce,[r("div",De,[n(V,{"model-value":e(K)?!0:e(H)?"indeterminate":!1,"onUpdate:modelValue":q},null,8,["model-value"]),r("span",Ue,d(e(i).size)+" / "+d(e(a).items.length)+" "+d(e(s)("console-common.selected")),1)]),n(z,{codes:["ai-mcp-servers:delete"]},{default:p(()=>[n(k,{color:"error",variant:"subtle",label:e(s)("console-common.batchDelete"),icon:"i-heroicons-trash",disabled:e(i).size===0,onClick:O},{trailing:p(()=>[n(b,null,{default:p(()=>[y(d(e(i).size),1)]),_:1})]),_:1},8,["label","disabled"])]),_:1}),n(z,{codes:["ai-mcp-servers:create"]},{default:p(()=>[n(A,{size:"lg",items:[{label:e(s)("ai-mcp.backend.quickCreateTitle"),icon:"i-heroicons-plus",color:"primary",onSelect:()=>D()},{label:e(s)("ai-mcp.backend.importTitle"),icon:"i-lucide-file-json-2",color:"primary",onSelect:()=>U()}],content:{align:"start",side:"bottom",sideOffset:8},ui:{content:"w-48"}},{default:p(()=>[n(k,{icon:"i-heroicons-plus",color:"primary"},{default:p(()=>[y(d(e(s)("ai-mcp.backend.addTitle")),1)]),_:1})]),_:1},8,["items"])]),_:1})])]),!e(a).loading&&e(a).items.length>0?(u(),I(W,{key:0,class:"h-[calc(100vh-13rem)]",shadow:!1},{default:p(()=>[r("div",Ve,[(u(!0),f(ie,null,ce(e(a).items,l=>(u(),I(e(P),{key:l.id,mcpServer:l,selected:e(i).has(l.id),isUpdate:e(w),onSelect:j,onDelete:L,onEdit:G,onViewModels:N,onToggleActive:J,onSetQuickMenu:Q},null,8,["mcpServer","selected","isUpdate"]))),128))])]),_:1})):e(a).loading?(u(),f("div",ze,[r("div",Ae,[n(T,{name:"i-lucide-loader-2",class:"text-primary-500 h-6 w-6 animate-spin"}),r("span",Te,d(t.$t("common.loading")),1)])])):(u(),f("div",$e,[n(T,{name:"i-lucide-building",class:"text-muted-foreground mb-4 h-16 w-16"}),r("h3",Ee,d(t.$t("ai-mcp.backend.emptyState")),1),r("p",Ie,d(t.$t("ai-mcp.backend.emptyStateDescription")),1),n(A,{size:"lg",items:[{label:e(s)("ai-mcp.backend.quickCreateTitle"),icon:"i-heroicons-plus",color:"primary",onSelect:()=>D()},{label:e(s)("ai-mcp.backend.importTitle"),icon:"i-lucide-file-json-2",color:"primary",onSelect:()=>U()}],content:{align:"start",side:"bottom",sideOffset:8},ui:{content:"w-48"}},{default:p(()=>[n(k,{class:"mt-4",icon:"i-heroicons-plus",color:"primary"},{default:p(()=>[y(d(t.$t("ai-mcp.backend.addFirstMcpServer")),1)]),_:1})]),_:1},8,["items"])])),e(a).total>0?(u(),f("div",Pe,[r("div",Be,d(e(i).size)+" "+d(t.$t("console-common.selected")),1),r("div",Re,[n(X,{page:e(a).page,"onUpdate:page":o[2]||(o[2]=l=>e(a).page=l),size:e(a).pageSize,"onUpdate:size":o[3]||(o[3]=l=>e(a).pageSize=l),total:e(a).total,onChange:e(m)},null,8,["page","size","total","onChange"])])])):ae("",!0)])}}});export{yt as default};
