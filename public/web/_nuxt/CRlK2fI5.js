import{_ as D}from"./DodGX9aM.js";import{d as N,au as P,s as R,i as S,c as l,o as a,n as y,m as o,v as r,l as i,x as k,k as c,q as x,_ as j,t as d,z as A,bs as F,j as f,F as z,B as $,p as h,A as I}from"#entry";import{_ as q}from"./B19A1O9i.js";import{_ as E}from"./BHGRVy27.js";import{_ as L}from"./DOrQ1Prn.js";import{u as G}from"./DqVgEjI6.js";import"./BWWuJQeZ.js";import"./DN9ov8OT.js";import"./9bDOsXij.js";import"./B22A-h4k.js";import"./pUN2d83w.js";import"./Cpt2kRVT.js";import"./8-c-A7PB.js";import"./iHyFjswr.js";import"./DDkKkiq3.js";import"./-aacq5Xj.js";import"./BBNTTFau.js";import"./xli8Y-dU.js";import"./BaddN8Qc.js";import"./kRIii9yh.js";import"./BwjX1SxC.js";import"./Cfcu-t3n.js";import"./C6Y-ieo6.js";import"./b-_TUx9i.js";import"./DaNf1Wdt.js";import"./CKXZhss7.js";import"./Bub1HYiY.js";import"./CChenI34.js";const H={class:"mb-3 flex items-start gap-3"},J={class:"border-default bg-muted flex size-10 flex-none items-center justify-center rounded-lg border"},K={class:"flex min-w-0 flex-1 flex-col"},O={class:"text-foreground truncate text-sm font-medium"},Q={class:"text-muted-foreground mt-1 text-xs"},W={class:"text-muted-foreground h-10 pr-8 text-xs"},X={class:"line-clamp-2 overflow-hidden"},Y={key:0,class:"hover:bg-muted rounded-lg py-1"},Z={key:1,class:"flex flex-wrap gap-1"},_={key:1,class:"flex flex-wrap gap-1"},Ve=N({__name:"agent-card",props:{agent:{},selected:{type:Boolean},selectionMode:{type:Boolean}},emits:["delete","edit","exportDsl","updateTags","toggleSelect"],setup(e,{emit:C}){const v=e,m=C,w=P(),g=R([]),B=()=>{if(v.selectionMode){m("toggleSelect",v.agent);return}w.push(G("ai-agent:detail",{id:v.agent.id}))};return S(()=>{g.value=v.agent.tags.map(s=>s.id)}),(s,t)=>{const M=D,u=j,b=q,p=A,V=F,T=E,U=L;return a(),l("div",{class:k(["group relative cursor-pointer rounded-lg border p-4 transition-all duration-200 hover:shadow-lg",[e.selected?"border-primary ring-primary bg-primary/5 ring-1":"border-default"]]),onClick:B},[e.selectionMode?(a(),l("div",{key:0,class:"absolute top-3 right-3 z-20",onClick:t[1]||(t[1]=r(()=>{},["stop"]))},[i(M,{"model-value":e.selected,"onUpdate:modelValue":t[0]||(t[0]=n=>m("toggleSelect",e.agent))},null,8,["model-value"])])):y("",!0),e.agent.createMode==="coze"?(a(),l("div",{key:1,class:k(["absolute top-3 z-10",[e.selectionMode?"right-10":"right-3"]])},[i(b,{color:"info",variant:"soft",size:"sm",class:"flex items-center gap-1"},{default:c(()=>[i(u,{name:"i-lucide-bot",class:"size-3"}),t[11]||(t[11]=x(" Coze ",-1))]),_:1})],2)):y("",!0),o("div",{class:"absolute right-3 bottom-3.5 z-10 flex gap-1 opacity-100 transition-opacity duration-200 group-hover:opacity-0",onClick:t[2]||(t[2]=r(()=>{},["stop"]))},[i(b,{color:e.agent.isPublic?"success":"neutral",variant:"soft",size:"sm"},{default:c(()=>[i(u,{name:e.agent.isPublic?"i-lucide-globe":"i-lucide-globe-lock",class:"mr-1 size-3"},null,8,["name"]),x(" "+d(e.agent.isPublic?s.$t("ai-agent.backend.configuration.public"):s.$t("ai-agent.backend.configuration.private")),1)]),_:1},8,["color"])]),e.selectionMode?y("",!0):(a(),l("div",{key:2,class:"absolute right-3 bottom-3 z-10 flex gap-1 opacity-0 transition-opacity duration-200 group-hover:opacity-100",onClick:t[6]||(t[6]=r(()=>{},["stop"]))},[i(p,{class:"opacity-70 hover:opacity-100",icon:"i-lucide-file-code",size:"xs",label:s.$t("console-common.export"),color:"success",variant:"ghost",onClick:t[3]||(t[3]=r(n=>m("exportDsl",e.agent),["stop"]))},null,8,["label"]),i(p,{class:"opacity-70 hover:opacity-100",icon:"i-lucide-edit",size:"xs",label:s.$t("console-common.edit"),color:"primary",variant:"ghost",onClick:t[4]||(t[4]=r(n=>m("edit",e.agent),["stop"]))},null,8,["label"]),i(p,{class:"opacity-70 hover:opacity-100",icon:"i-lucide-trash",size:"xs",label:s.$t("console-common.delete"),color:"error",variant:"ghost",onClick:t[5]||(t[5]=r(n=>m("delete",e.agent),["stop"]))},null,8,["label"])])),o("div",H,[o("div",J,[i(V,{src:e.agent.avatar,alt:"avatar",class:"size-10 rounded-lg object-contain"},null,8,["src"])]),o("div",K,[o("h3",O,d(e.agent.name),1),o("div",Q,[o("span",null,d(s.$t("ai-agent.backend.create.edit")),1),i(T,{datetime:e.agent.updatedAt,mode:"datetime"},null,8,["datetime"])])])]),o("div",W,[o("p",X,d(e.agent.description),1)]),o("div",{class:"mb-5",onClick:t[10]||(t[10]=r(()=>{},["stop"]))},[e.selectionMode?(a(),l("div",Y,[e.agent.tags?.length?(a(),l("div",Z,[(a(!0),l(z,null,$(e.agent.tags,n=>(a(),f(b,{key:n.id,color:"neutral",variant:"outline"},{default:c(()=>[i(u,{name:"i-lucide-tag",class:"size-2"}),o("span",null,d(n.name),1)]),_:2},1024))),128))])):(a(),f(p,{key:0,color:"neutral",variant:"outline",size:"xs"},{default:c(()=>[i(u,{name:"i-lucide-tag",class:"size-2"}),o("span",null,d(s.$t("common.tag.addTag")),1)]),_:1}))])):(a(),f(U,{key:1,modelValue:h(g),"onUpdate:modelValue":t[8]||(t[8]=n=>I(g)?g.value=n:null),type:"app",onClose:t[9]||(t[9]=n=>m("updateTags",e.agent,h(g)))},{trigger:c(()=>[o("div",{class:"hover:bg-muted rounded-lg py-1",onClick:t[7]||(t[7]=r(()=>{},["stop"]))},[e.agent.tags?.length?(a(),l("div",_,[(a(!0),l(z,null,$(e.agent.tags,n=>(a(),f(b,{key:n.id,color:"neutral",variant:"outline"},{default:c(()=>[i(u,{name:"i-lucide-tag",class:"size-2"}),o("span",null,d(n.name),1)]),_:2},1024))),128))])):(a(),f(p,{key:0,color:"neutral",variant:"outline",size:"xs"},{default:c(()=>[i(u,{name:"i-lucide-tag",class:"size-2"}),o("span",null,d(s.$t("common.tag.addTag")),1)]),_:1}))])]),_:1},8,["modelValue"]))])],2)}}});export{Ve as default};
