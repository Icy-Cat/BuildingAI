const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./xfiLsjh4.js","./DChYRXkg.js","./B0y4mbyn.js","./-aacq5Xj.js","./BaNg8fjw.js","./DlAUqK2U.js","./Cgx-pZ0i.js","./DDkKkiq3.js","./DjV6S4bm.js","./8-c-A7PB.js","./DN9ov8OT.js","./BwjX1SxC.js","./b-_TUx9i.js","./DaNf1Wdt.js","./CKXZhss7.js","./Cfcu-t3n.js","./BstbYvQo.js","./B22A-h4k.js","./CjnkMdLn.js","./CYCgI48Q.js","./CuZW3dKX.js","./B1wqSa92.js","./BWWuJQeZ.js","./C6Y-ieo6.js","./Bc7ldEoJ.js","./xli8Y-dU.js","./BaddN8Qc.js","./kRIii9yh.js","./Cpt2kRVT.js","./pUN2d83w.js","./Bub1HYiY.js","./DNZiHWQV.js","./zPUvkbEL.js","./BNqXk1Oe.js","./DK1-6_6O.js","./CstU5cVH.js","./BT1VXOqk.js","./CP4Zo7YT.js","./XpsTG8vq.js","./D9F45f3T.js","./BUyfW8JT.js","./DaWZu8wl.js","./Dp8NvuFH.js","./DFBCXxNw.js","./Bpk8zbrs.js","./-p_U-LXi.js","./iHyFjswr.js","./CGWnnGY2.js","./BvrbnHlJ.js","./DodGX9aM.js","./9bDOsXij.js","./CEpj8Soy.js","./B19A1O9i.js"])))=>i.map(i=>d[i]);
import{d as A,aq as F,b as q,Q as N,aM as T,i as O,c as u,m as o,n as y,l as p,p as e,t as r,F as G,B as J,k,R as x,U as M,o as c,H,_ as Q,j as S,z as K,q as U}from"#entry";import{_ as W}from"./COzfqa7N.js";import X from"./-aacq5Xj.js";import{_ as Y}from"./DAB2a9hE.js";import{_ as Z}from"./BNeK5zSK.js";import{a as ee,b as te,c as se}from"./D9F45f3T.js";import{u as oe}from"./FihYtau-.js";import{u as ae}from"./BvugyUor.js";import"./8-c-A7PB.js";import"./B22A-h4k.js";import"./Cpt2kRVT.js";import"./pUN2d83w.js";import"./9bDOsXij.js";import"./B19A1O9i.js";import"./DlAUqK2U.js";const ie={class:"provider-list-container"},ne={class:"bg-background sticky top-0 z-50 flex flex-wrap items-center justify-between gap-4 pb-4"},re={key:0,class:"grid grid-cols-1 gap-6 py-2 md:grid-cols-2 lg:grid-cols-2 xl:grid-cols-3"},ce={key:0,class:"rounded-lg border border-dashed p-4"},le={class:"flex flex-col"},de={class:"text-muted-foreground pb-2 pl-2 text-xs font-bold"},me={key:1,class:"flex h-[50vh] items-center justify-center"},pe={class:"flex items-center gap-3"},ue={class:"text-accent-foreground"},_e={key:2,class:"flex h-[50vh] flex-col items-center justify-center"},fe={class:"text-secondary-foreground mb-2 text-lg font-medium"},ge={class:"text-accent-foreground"},ye={key:3,class:"bg-background sticky bottom-0 z-50 flex items-center justify-between gap-3 py-4"},he={class:"text-muted text-sm"},ve={class:"flex items-center gap-1.5"},Re=A({__name:"mcp-settings",setup(be){const I=x(()=>M(()=>import("./xfiLsjh4.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41]),import.meta.url)),z=x(()=>M(()=>import("./Dp8NvuFH.js"),__vite__mapDeps([42,1,43,11,30,17,44,38,45,7,10,46,47,48,26,9,27,15,23,12,13,14,28,29,49,22,50,39]),import.meta.url)),D=x(()=>M(()=>import("./CEpj8Soy.js"),__vite__mapDeps([51,1,43,11,30,17,44,38,52,31,32,33,12,15,34,35,36,37,39]),import.meta.url)),h=F(),{t:a}=q(),V=N(),d=T({name:"",type:"system"}),m=T({isJsonImport:!1,selectMcpServer:new Set,isSystemMcp:!1,updateIds:[],systemList:[]}),{paging:n,getLists:l}=oe({fetchFun:ee,params:d}),E=async t=>{if(t.id)try{await ae({title:a("ai-mcp.backend.deleteTitle"),description:a("ai-mcp.backend.deleteMessage"),color:"error"}),await te(t.id),h.success(a("ai-mcp.backend.deleteSuccess")),m.selectMcpServer.clear(),l()}catch(s){console.error("Delete MCP server failed:",s),h.error(a("common.message.deleteFailed"))}},v=async(t="",s=!1)=>{await V.create(I).open({id:t,isView:!1,isJsonImport:s,isSystemMcp:m.isSystemMcp,onUpdateIds:g=>{m.updateIds=g}}).result&&l()},$=async t=>{await V.create(D).open({id:t,isView:!0,isSystemMcp:m.isSystemMcp}).result&&l()},w=()=>{v()},C=()=>{v("",!0)},P=t=>{v(t.id)},R=async(t,s)=>{try{await se(t,{status:s}),h.success(a(s?"ai-mcp.backend.form.isActiveEnabled":"ai-mcp.backend.form.isActiveDisabled")),l()}catch(_){console.error("Toggle MCP server visibility failed:",_)}},B=H(()=>{m.systemList=[],l()},500);return O(()=>l()),(t,s)=>{const _=W,b=X,f=Q,g=K,L=Y,j=Z;return c(),u("div",ie,[o("div",ne,[p(_,{modelValue:e(d).type,"onUpdate:modelValue":[s[0]||(s[0]=i=>e(d).type=i),e(l)],color:"primary",content:!1,items:[{label:e(a)("ai-mcp.backend.search.system"),value:"system"},{label:e(a)("ai-mcp.backend.userMcp"),value:"user"}]},null,8,["modelValue","items","onUpdate:modelValue"]),o("div",null,[p(b,{modelValue:e(d).name,"onUpdate:modelValue":[s[1]||(s[1]=i=>e(d).name=i),e(B)],class:"w-50",placeholder:e(a)("ai-mcp.backend.search.placeholder"),onChange:e(l)},null,8,["modelValue","placeholder","onChange","onUpdate:modelValue"])])]),!e(n).loading&&e(n).items.length>0?(c(),u("div",re,[e(d).type==="user"?(c(),u("div",ce,[o("div",le,[o("h3",de,r(e(a)("ai-mcp.backend.addTitle")),1),o("div",{class:"text-primary hover:bg-primary-50 flex cursor-pointer items-center rounded-lg px-2 py-2 text-sm",onClick:w},[p(f,{name:"i-lucide-file-plus-2",class:"mr-2 size-4"}),o("span",null,r(e(a)("ai-mcp.backend.quickCreateTitle")),1)]),o("div",{class:"text-primary hover:bg-primary-50 flex cursor-pointer items-center rounded-lg px-2 py-2 text-sm",onClick:C},[p(f,{name:"i-lucide-file-json-2",class:"mr-2 size-4"}),o("span",null,r(e(a)("ai-mcp.backend.importTitle")),1)])])])):y("",!0),(c(!0),u(G,null,J(e(n).items,i=>(c(),S(e(z),{key:i.id,mcpServer:i,selected:e(m).selectMcpServer.has(i.id),"update-ids":e(m).updateIds,onDelete:E,onEdit:P,onViewModels:$,onToggleVisible:R},null,8,["mcpServer","selected","update-ids"]))),128))])):e(n).loading?(c(),u("div",me,[o("div",pe,[p(f,{name:"i-lucide-loader-2",class:"text-primary-500 h-6 w-6 animate-spin"}),o("span",ue,r(t.$t("common.loading")),1)])])):(c(),u("div",_e,[p(f,{name:"i-lucide-building",class:"mb-4 h-16 w-16 text-gray-400"}),o("h3",fe,r(t.$t("ai-mcp.backend.emptyState")),1),o("p",ge,r(t.$t("ai-mcp.backend.emptyStateDescription")),1),p(L,{orientation:"horizontal",class:"mt-4"},{default:k(()=>[e(d).type!=="system"?(c(),S(g,{key:0,icon:"i-heroicons-plus",color:"primary",onClick:w},{default:k(()=>[U(r(t.$t("ai-mcp.backend.quickCreateTitle")),1)]),_:1})):y("",!0),e(d).type!=="system"?(c(),S(g,{key:1,icon:"i-lucide-file-json-2",color:"primary",variant:"subtle",onClick:C},{default:k(()=>[U(r(t.$t("ai-mcp.backend.importTitle")),1)]),_:1})):y("",!0)]),_:1})])),e(n).total>0?(c(),u("div",ye,[o("div",he,r(e(m).selectMcpServer.size)+" "+r(t.$t("console-common.selected")),1),o("div",ve,[p(j,{page:e(n).page,"onUpdate:page":s[2]||(s[2]=i=>e(n).page=i),size:e(n).pageSize,"onUpdate:size":s[3]||(s[3]=i=>e(n).pageSize=i),total:e(n).total,onChange:e(l)},null,8,["page","size","total","onChange"])])])):y("",!0)])}}});export{Re as default};
