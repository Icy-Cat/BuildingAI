const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./BtqeLYlj.js","./BMWUekhH.js","./BSV5H6cW.js","./D-9dCfyL.js","./DjV6S4bm.js","./8-c-A7PB.js","./DN9ov8OT.js","./BwjX1SxC.js","./b-_TUx9i.js","./DaNf1Wdt.js","./CKXZhss7.js","./Cfcu-t3n.js","./BstbYvQo.js","./B22A-h4k.js","./B19A1O9i.js","./C8CK8nAU.js","./Qjq6OWkd.js","./BT1VXOqk.js","./Dn8X9Gvz.js","./DlAUqK2U.js"])))=>i.map(i=>d[i]);
import{d as T,a1 as A,aK as E,c as $,o as B,m as o,l as n,k as u,t as d,p as t,R as p,A as C,aS as x,x as w,z as P,q as h,U as g}from"#entry";import{_ as F}from"./Qjq6OWkd.js";import{u as L}from"./DpSZ1r7x.js";import"./BT1VXOqk.js";import"./Dn8X9Gvz.js";import"./DlAUqK2U.js";const z={class:"segmentation-configurator mx-auto h-full max-w-7xl"},D={class:"grid h-full grid-cols-1 gap-8 lg:grid-cols-2"},I={class:"space-y-2"},M={class:"text-foreground text-sm font-medium"},U={class:"text-foreground text-sm font-medium"},N={class:"flex justify-end gap-4 py-4"},J=T({__name:"index",props:{indexingConfig:{},retrievalConfig:{},disabled:{type:Boolean}},emits:["update:retrievalConfig","onStepChange","onCreate","update:indexingConfig"],setup(m,{emit:V}){const k=p(()=>g(()=>import("./BtqeLYlj.js"),__vite__mapDeps([0,1]),import.meta.url)),S=p(()=>g(()=>import("./BSV5H6cW.js"),__vite__mapDeps([2,1]),import.meta.url)),y=p(()=>g(()=>import("./D-9dCfyL.js"),__vite__mapDeps([3,4,1,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),f=m,l=V,r=x(f,"indexingConfig",l),c=x(f,"retrievalConfig",l),i=A({totalSegments:0,fileResults:[],processingTime:0,processedFiles:0}),{lockFn:R,isLock:_}=E(async()=>{try{const e=await L(r.value);i.totalSegments=e.totalSegments,i.fileResults=e.fileResults,i.processingTime=e.processingTime,i.processedFiles=e.processedFiles}catch(e){console.error("预览失败:",e)}});return(e,s)=>{const v=P,b=F;return B(),$("div",z,[o("div",D,[n(b,{class:"table h-full pr-2",shadow:!1},{default:u(()=>[o("section",I,[o("h5",M,d(e.$t("ai-datasets.backend.create.stepTwo.segmentation")),1),n(t(S),{modelValue:t(r),"onUpdate:modelValue":s[0]||(s[0]=a=>C(r)?r.value=a:null),"is-previewing":t(_),"on-preview-segments":t(R)},null,8,["modelValue","is-previewing","on-preview-segments"])]),o("section",{class:w(["mt-4 space-y-4",{"cursor-not-allowed":m.disabled}])},[o("h5",U,d(e.$t("ai-datasets.backend.settings.retrievalMethod")),1),n(t(k),{modelValue:t(c),"onUpdate:modelValue":s[1]||(s[1]=a=>C(c)?c.value=a:null),class:w({"pointer-events-none opacity-70":m.disabled})},null,8,["modelValue","class"])],2),o("section",N,[n(v,{size:"lg",variant:"outline",onClick:s[2]||(s[2]=a=>l("onStepChange",-1))},{default:u(()=>[h(d(e.$t("ai-datasets.backend.create.previousStep")),1)]),_:1}),n(v,{size:"lg",onClick:s[3]||(s[3]=a=>l("onCreate"))},{default:u(()=>[h(d(e.$t("ai-datasets.backend.create.saveAndCreate")),1)]),_:1})])]),_:1}),n(t(y),{"is-previewing":t(_),results:t(i)},null,8,["is-previewing","results"])])])}}});export{J as default};
