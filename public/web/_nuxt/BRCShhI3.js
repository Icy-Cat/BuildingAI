import{d as A,b as C,s as b,aK as w,i as N,j as p,o as m,k as c,c as r,n as V,p as e,l as a,_ as j,m as s,t as o,q as _,z as F,aq as M}from"#entry";import{_ as T}from"./B19A1O9i.js";import{_ as U}from"./BHGRVy27.js";import{_ as q}from"./DNZiHWQV.js";import{a as z}from"./BcgmQzdY.js";import"./zPUvkbEL.js";import"./BNqXk1Oe.js";import"./b-_TUx9i.js";import"./B22A-h4k.js";import"./Cfcu-t3n.js";import"./DK1-6_6O.js";import"./CstU5cVH.js";import"./BT1VXOqk.js";import"./CP4Zo7YT.js";import"./XpsTG8vq.js";const I={key:0,class:"flex items-center justify-center py-10"},L={key:1,class:"space-y-6 p-2"},E={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},G={class:"text-muted-foreground text-sm font-medium"},K={class:"mt-1 font-mono text-sm"},P={class:"text-muted-foreground text-sm font-medium"},R={class:"mt-1 text-sm"},S={class:"text-muted-foreground text-sm font-medium"},H={class:"mt-1"},J={class:"text-muted-foreground text-sm font-medium"},O={class:"mt-1"},Q={class:"text-muted-foreground text-sm font-medium"},W={class:"mt-1 text-sm"},X={class:"grid grid-cols-1 gap-4 sm:grid-cols-2"},Y={class:"text-muted-foreground text-sm font-medium"},Z={class:"mt-1 text-sm"},ee={key:1},se={class:"text-muted-foreground text-sm font-medium"},te={class:"mt-1 text-sm"},oe={key:1},ie={class:"mt-6 flex justify-end"},ge=A({__name:"edit",props:{code:{}},emits:["close"],setup(y,{emit:x}){const u=y,l=x,{t}=C(),i=b(null),{lockFn:h,isLock:g}=w(async()=>{try{const n=await z(u.code);i.value=n}catch(n){console.error("获取权限详情失败:",n),M().error(t("system-perms.permission.getDetailFailed")),l("close")}});return N(()=>u.code&&h()),(n,d)=>{const k=j,f=T,v=U,D=F,B=q;return m(),p(B,{title:e(t)("system-perms.permission.detailTitle"),description:e(t)("system-perms.permission.detailDesc"),ui:{content:"max-w-2xl"},onClose:d[1]||(d[1]=$=>l("close"))},{default:c(()=>[e(g)?(m(),r("div",I,[a(k,{name:"i-lucide-loader-2",class:"size-8 animate-spin"})])):e(i)?(m(),r("div",L,[s("div",E,[s("div",null,[s("div",G,o(e(t)("system-perms.permission.code")),1),s("div",K,o(e(i).code),1)]),s("div",null,[s("div",P,o(e(t)("system-perms.permission.name")),1),s("div",R,o(e(i).name),1)]),s("div",null,[s("div",S,o(e(t)("system-perms.permission.group")),1),s("div",H,[a(f,{color:"primary",variant:"subtle"},{default:c(()=>[_(o(e(i).group),1)]),_:1})])]),s("div",null,[s("div",J,o(e(t)("system-perms.permission.isDeprecated")),1),s("div",O,[a(f,{color:e(i).isDeprecated?"error":"success",variant:"subtle"},{default:c(()=>[_(o(e(i).isDeprecated?e(t)("system-perms.permission.yes"):e(t)("system-perms.permission.no")),1)]),_:1},8,["color"])])])]),s("div",null,[s("div",Q,o(e(t)("system-perms.permission.describe")),1),s("div",W,o(e(i).description||e(t)("system-perms.permission.noDescription")),1)]),s("div",X,[s("div",null,[s("div",Y,o(e(t)("console-common.createAt")),1),s("div",Z,[e(i).createdAt?(m(),p(v,{key:0,datetime:e(i).createdAt,mode:"datetime"},null,8,["datetime"])):(m(),r("span",ee,"-"))])]),s("div",null,[s("div",se,o(e(t)("console-common.updateAt")),1),s("div",te,[e(i).updatedAt?(m(),p(v,{key:0,datetime:e(i).updatedAt,mode:"datetime"},null,8,["datetime"])):(m(),r("span",oe,"-"))])])]),s("div",ie,[a(D,{color:"neutral",variant:"soft",onClick:d[0]||(d[0]=$=>l("close"))},{default:c(()=>[_(o(e(t)("console-common.close")),1)]),_:1})])])):V("",!0)]),_:1},8,["title","description"])}}});export{ge as default};
