const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CwxdgFqG.js","./-p_U-LXi.js","./DChYRXkg.js","./DDkKkiq3.js","./DN9ov8OT.js","./iHyFjswr.js","./-aacq5Xj.js","./Cgx-pZ0i.js","./DjV6S4bm.js","./8-c-A7PB.js","./BwjX1SxC.js","./b-_TUx9i.js","./DaNf1Wdt.js","./CKXZhss7.js","./Cfcu-t3n.js","./BstbYvQo.js","./B22A-h4k.js","./CjnkMdLn.js","./CYCgI48Q.js","./CuZW3dKX.js","./B1wqSa92.js","./BWWuJQeZ.js","./C6Y-ieo6.js","./Qjq6OWkd.js","./BT1VXOqk.js","./Dn8X9Gvz.js","./DlAUqK2U.js","./Bc7ldEoJ.js","./C2dsOzpu.js","./DodGX9aM.js","./9bDOsXij.js","./pUN2d83w.js","./Cpt2kRVT.js","./BvrbnHlJ.js","./BaddN8Qc.js","./kRIii9yh.js","./Bub1HYiY.js","./Bpk8zbrs.js","./XpsTG8vq.js","./DJ8q3BOv.js","./B19A1O9i.js","./D39yG5RA.js","./xli8Y-dU.js","./Dp_0VxUw.js","./BvugyUor.js","./BUyfW8JT.js","./DaWZu8wl.js"])))=>i.map(i=>d[i]);
import{d as A,b as C,aq as B,s as F,aK as f,i as I,j as v,o as s,k as _,c as m,p as r,l as c,_ as S,R as T,m as a,t as k,bs as U,U as D}from"#entry";import{_ as L}from"./DNZiHWQV.js";import{a as j,b as E,c as N}from"./C2dsOzpu.js";import"./zPUvkbEL.js";import"./BNqXk1Oe.js";import"./b-_TUx9i.js";import"./B22A-h4k.js";import"./Cfcu-t3n.js";import"./DK1-6_6O.js";import"./CstU5cVH.js";import"./BT1VXOqk.js";import"./CP4Zo7YT.js";import"./XpsTG8vq.js";import"./-aacq5Xj.js";import"./DodGX9aM.js";import"./BWWuJQeZ.js";import"./DN9ov8OT.js";import"./9bDOsXij.js";import"./pUN2d83w.js";import"./Cpt2kRVT.js";import"./8-c-A7PB.js";import"./iHyFjswr.js";import"./DDkKkiq3.js";import"./BvrbnHlJ.js";import"./BaddN8Qc.js";import"./kRIii9yh.js";import"./BwjX1SxC.js";import"./C6Y-ieo6.js";import"./DaNf1Wdt.js";import"./CKXZhss7.js";import"./Bub1HYiY.js";import"./Bpk8zbrs.js";import"./DJ8q3BOv.js";import"./B19A1O9i.js";import"./D39yG5RA.js";import"./xli8Y-dU.js";import"./-p_U-LXi.js";import"./Dp_0VxUw.js";import"./BvugyUor.js";const R={class:"text-lg font-semibold"},V={class:"text-muted-foreground flex items-center gap-2 text-sm"},P={key:0,class:"flex-none"},q={key:1,class:"flex-none"},z={key:0,class:"flex items-center justify-center py-24"},Fe=A({__name:"model-form-modal",props:{id:{},provider:{}},emits:["close"],setup(i,{emit:b}){const y=T(()=>D(()=>import("./CwxdgFqG.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46]),import.meta.url)),o=i,n=b,{t:d}=C(),l=B(),p=F({}),{lockFn:g,isLock:h}=f(async()=>{if(o.id)try{const e=await j(o.id);p.value={...e}}catch(e){console.error("获取模型详情失败:",e)}}),{lockFn:x}=f(async e=>{try{o.id?(await E(o.id,e),l.success(d("console-common.messages.success"))):(await N({...e,providerId:o.provider?.id}),l.success(d("console-common.messages.success"))),n("close",!0)}catch(t){console.error("提交模型失败:",t)}});return I(()=>{o.id&&g()}),(e,t)=>{const $=U,u=S,w=L;return s(),v(w,{title:o.id?e.$t("ai-provider.backend.model.editTitle"):e.$t("ai-provider.backend.model.addTitle"),ui:{content:"max-w-2xl"},onClose:t[1]||(t[1]=M=>n("close",!1))},{title:_(()=>[a("div",null,[a("h3",R,k(o.id?e.$t("ai-provider.backend.model.editTitle"):e.$t("ai-provider.backend.model.addTitle")),1),a("div",V,[i.provider?.iconUrl?(s(),m("div",P,[c($,{src:i.provider.iconUrl,alt:i.provider.name,class:"h-4 w-4 rounded object-cover"},null,8,["src","alt"])])):(s(),m("div",q,[c(u,{name:"i-lucide-building-office",class:"h-4 w-4"})])),a("span",null,k(i.provider?.name),1)])])]),default:_(()=>[r(h)?(s(),m("div",z,[c(u,{name:"i-lucide-loader-2",class:"size-8 animate-spin"})])):(s(),v(r(y),{key:1,"is-edit":!!o.id,id:o.id||"","initial-data":r(p),onSubmitSuccess:r(x),onCancel:t[0]||(t[0]=M=>n("close",!1))},null,8,["is-edit","id","initial-data","onSubmitSuccess"]))]),_:1},8,["title"])}}});export{Fe as default};
