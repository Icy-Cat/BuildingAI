import{d as U,aq as w,au as C,b as K,s as B,g as D,i as E,c as h,o as y,m as v,l as n,t as u,k as s,z as S,q as x,j as V,p as t,bF as z,C as q}from"#entry";import{_ as F}from"./-p_U-LXi.js";import{_ as L}from"./B19A1O9i.js";import{_ as N}from"./DJ8q3BOv.js";import{_ as R}from"./D6QomrDA.js";import{c as A,d as M}from"./CNkLaFoG.js";import{u as j}from"./DqVgEjI6.js";import"./DDkKkiq3.js";import"./DN9ov8OT.js";import"./iHyFjswr.js";const G={class:"system-payConfig p-2"},I={class:"mb-6"},H={class:"text-secondary-foreground text-2xl font-bold"},J={key:1},ne=U({__name:"index",setup(O){const f=w(),P=C(),{t:e}=K(),g=B([]),$=D(()=>[{accessorKey:"logo",header:e("payment-config.logo")},{accessorKey:"payType",header:e("payment-config.payType")},{accessorKey:"name",header:e("payment-config.name")},{accessorKey:"isEnable",header:e("payment-config.isEnable")},{accessorKey:"isDefault",header:e("payment-config.isDefault")},{accessorKey:"sort",header:e("payment-config.sort")},{accessorKey:"action",header:e("payment-config.action")}]),k=z(async(o,c)=>{try{await M(o,c),f.success(e("system.website.messages.saveSuccess")),_()}catch{f.error(e("system.website.messages.saveFailed"))}},1e3),_=async()=>{const o=await A();g.value=o.map(({id:c,name:r,payType:i,isEnable:l,logo:d,isDefault:m,sort:p})=>({id:c,name:r,payType:i,isEnable:l,logo:d,isDefault:m,sort:p}))},T=o=>{P.push({path:j("system-payconfig:update"),query:{id:o}})};return E(()=>_()),(o,c)=>{const r=q,i=F,l=L,d=S,m=N,p=R;return y(),h("div",G,[v("div",I,[v("h1",H,u(o.$t("payment-config.title")),1)]),n(p,{columns:t($),data:t(g),ui:{base:"table-fixed border-separate border-spacing-0",thead:"[&>tr]:bg-elevated/50 [&>tr]:after:content-none",tbody:"[&>tr]:last:[&>td]:border-b-0",th:"py-2 first:rounded-l-lg last:rounded-r-lg border-y border-default first:border-l last:border-r",td:"border-b border-default",tr:"[&:has(>td[colspan])]:hidden"}},{"logo-cell":s(({row:a})=>[n(r,{src:a.original.logo,alt:a.original.payType===1?t(e)("payment-config.wxPay"):t(e)("payment-config.alipayPay"),size:"md",ui:{root:"rounded-lg"}},null,8,["src","alt"])]),"payType-cell":s(({row:a})=>[x(u(a.original.payType===1?t(e)("payment-config.wxPay"):t(e)("payment-config.aliPay")),1)]),"isEnable-cell":s(({row:a})=>[n(i,{"model-value":a.original.isEnable===1,"onUpdate:modelValue":b=>t(k)(a.original.id,b?1:0),size:"md"},null,8,["model-value","onUpdate:modelValue"])]),"isDefault-cell":s(({row:a})=>[a.original.isDefault===1?(y(),V(l,{key:0,label:t(e)("console-common.default"),color:"success"},null,8,["label"])):(y(),h("div",J))]),"action-cell":s(({row:a})=>[n(m,{codes:["system-payconfig:update"]},{default:s(()=>[n(d,{size:"md",variant:"ghost",color:"primary",onClick:b=>T(a.original.id)},{default:s(()=>[x(u(o.$t("console-common.edit")),1)]),_:1},8,["onClick"])]),_:2},1024)]),_:1},8,["columns","data"])])}}});export{ne as default};
